<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <!--        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->

        <title>Once Upon a Time... OpenLayers</title>

        <meta name="description" content="Once Upon a Time... OpenLayers. An in depth introduction to the OpenLayers web mapping framework.">
        <meta name="author" content="Antonio Santiago">
        <meta name="viewport" content="width=1024, user-scalable=no">

        <!-- Core and extension CSS files -->
        <link rel="stylesheet" href="deckjs/core/deck.core.css">
        <link rel="stylesheet" href="deckjs/extensions/goto/deck.goto.css">
        <link rel="stylesheet" href="deckjs/extensions/menu/deck.menu.css">
        <link rel="stylesheet" href="deckjs/extensions/navigation/deck.navigation.css">
        <link rel="stylesheet" href="deckjs/extensions/status/deck.status.css">
        <link rel="stylesheet" href="deckjs/extensions/hash/deck.hash.css">
        <link rel="stylesheet" href="deckjs/extensions/scale/deck.scale.css"> 
        <link rel="stylesheet" href="deckjs/extensions/codemirror/deck.codemirror.css"> 

        <!-- Codemirror theme -->
        <link rel="stylesheet" href="deckjs/extensions/codemirror/themes/default.css">
        <link rel="stylesheet" href="deckjs/extensions/codemirror/themes/xq-dark.css">

        <!-- Transition theme. More available in /themes/transition/ or create your own. -->
        <link rel="stylesheet" href="deckjs/themes/transition/horizontal-slide.css">

        <!-- Style theme. More available in /themes/style/ or create your own. -->
        <link rel="stylesheet" href="deckjs/themes/style/olpresentation.css">

        <script src="deckjs/modernizr.custom.js"></script>
    </head>

    <body class="deck-container">



        <section class="slide">
            <h1><span class="openlayers">OpenLayers</span></h1>
        </section>

       

        <section class="slide">
            <h2>牢记...</h2>

            <div class="slide">
                <blockquote>源代码是最好的学习场所</blockquote>

                <img src="images/doubletake.gif" width="40%" alt="The code is the best place to learn"/>
            </div>
        </section>

        <section class="slide">
            <h1><span class="openlayers">Map</span></h1>
        </section>

        <section class="slide">
            <h2>Map</h2>

            <p class="slide">The <span class="spotlight">map</span> 就是一个web地图绘制应用程序中间那一块
                并表现为 <span class="olclass">OpenLayers.Map</span> 类的实例.</p>


            <ul class="slide">
                <li><span class="spotlight">map</span> 的一些重要属性: 
                    <span class="olproperty">投影</span>, 
                    <span class="olproperty">分辨率</span>(zoom levels), <span class="olproperty">units</span>, etc</li>
                <li>一个 <span class="spotlight">map</span> 包含一个或多个 <span class="spotlight">图层</span></li>
                <li>一个 <span class="spotlight">map</span> 能包含一个或多个<span class="spotlight">控件</span></li>
            </ul>
            <div class="slide">
                <blockquote>一个应用程序可以有一个或多个地图  <em><strong>但是图层和控件只能应用于一个地图</strong></em></blockquote>
            </div>

            <!-- yUML 
            [Map|projection;units;...]-*>[Layers]
            [Map|projection;units;...]-*>[Controls]
            -->
            <img class="slide" src="images/uml_map.png" alt="Map UML class diagram"/>

            <div class="slide">
                <h3>示例</h3>
                为地图创建一个HTML元素:
                <textarea name="code" class="code" mode="htmlmixed" style="display: none;" theme="xq-dark">
<div id="myMap"></div></textarea>
                创建一个OpenLayers.Map实例:
                <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var map = new OpenLayers.Map("myMap");</textarea>
            </div>
            
        </section>

        <section class="slide">
            <h2>Map</h2>

            <h3>Methods</h3>
            <p><span class="spotlight">map</span> 拥有很多方法</p>

            <ul>
                <li class="slide">
                    <p><span class="spotlight">Layers</span></p>

                    <p>
                       <span class="olmethod">addLayer()</span>, 
                       <span class="olmethod">getLayer()</span>, 
                       <span class="olmethod">removeLayer()</span>, ...
                   </p>
                </li>

                <li class="slide">
                    <p><span class="spotlight">Controls</span></p>

                    <p>
                       <span class="olmethod">addControl()</span>, 
                       <span class="olmethod">getControl()</span>, 
                       <span class="olmethod">removeCotnrol()</span>, ...
                   </p>
                </li>

                <li class="slide">
                    <p>地图移动：</p>
                    <p>
                        <span class="olmethod">zoomTo()</span>, 
                        <span class="olmethod">zoomIn()</span>, 
                        <span class="olmethod">zoomOut()</span>, 
                        <span class="olmethod">pan()</span>, 
                        <span class="olmethod">panTo()</span>, ...
                    </p>
                </li>

                <li class="slide">
                    <p>当前地图状态信息:</p>
                    <p>
                        <span class="olmethod">getZoom()</span>, 
                        <span class="olmethod">getCenter()</span>, 
                        <span class="olmethod">getUnits()</span>, 
                        <span class="olmethod">getScale()</span>, 
                        <span class="olmethod">getProjection()</span>, ...
                    </p>
                </li>
            </ul>
            
        </section>

        <section class="slide">
            <h2>Examples...</h2>

            <p><strong><em>Chapter 1 - Mapping Basics</em></strong></p>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <ul>
                <li>
                    <em>Creating simple map</em>: 
                    <span class="olsampledescription">How to create a very simple map</span>
                </li>

                <li>
                    <em>Playing with map options</em>: 
                    <span class="olsampledescription">How to use some map properties</span>
                </li>

                <li>
                    <em>Managing map's stack layers</em>: 
                    <span class="olsampledescription">How to manage layers withint the map</span>
                </li>

                <li>
                    <em>Moving around the map view</em>: 
                    <span class="olsampledescription">How to manage the map's viewport</span>
                </li>
            </ul>

        </section>

        <section class="slide">
            <h1><span class="openlayers">Layers</span></h1>
        </section>

       <section class="slide">
            <h2>图层</h2>

            <p class="slide">The concept of <span class="spotlight">Layer</span> allows us to group/classify the elements that
                must be rendered on the <span class="spotlight">Map</span></p>

            <p class="slide">所有的图层都继承自基类 <span class="olclass">OpenLayers.Layer</span></p>
            
            <div class="slide">
                <ul>
                    <li><span class="olproperty"><code>name</code></span>每一个图层都有一个名称（在地图切换控件中用到）</li>
                    <li><span class="olproperty"><code>opacity</code></span> 图层透明度（0到1）</li>
                    <li><span class="olproperty"><code>projection</code></span> 图层中地理数据的投影信息</li>
                    <li><span class="olproperty"><code>maxExtent</code></span> 数据的最大地理范围</li>
                    <li><span class="olproperty"><code>resolutions</code></span> 一个递减的地图分辨率集合</li>
                </ul>

                <!-- 
                [OpenLayers.Layer|name;opacity;projection;resolutions;...]
                -->
                <img src="images/uml_layer.png" alt="Layer UML class diagram"/>
            </div>

        </section>

        <section class="slide">
            <h2>图层类别</h2>

            <p class="slide">主要分为两大类:</p>
            <ul class="slide">
                <li><span class="spotlight">栅格Raster</span> (for <em>imagery</em>) 和</li>
                <li><span class="spotlight">矢量Vector</span> (for <em>features</em>)</li>
            </ul>

            <!-- yUML code
            [Layer]^-[Raster Layer]
            [Raster Layer]^-[WMS]
            [Raster Layer]^-[Google]
            [Raster Layer]^-[OSM]
            [Raster Layer]^-[XYZ]
            [Layer]^-[Vector Layer]
            [Vector Layer]^-[WFS]
            [Vector Layer]^-[GeoJSON]
            [Vector Layer]^-[KML]
            -->
            <img class="slide" src="images/raster_vector_layers.png" alt="Raster and vector layers" />

        </section>

        <section class="slide">
            <h2>Base Layers and Overlays</h2>

            <div class="slide">
                <p>OpenLayers differentiates two kinds of layers: <span class="spotlight">Base layers</span> and 
                    <span class="spotlight">Overlays</span>.</p>

                <!-- yUML code
                [Layer]^-[BaseLayer]
                [Layer]^-[Overlay]
                -->
                <img src="images/baselayer_overlay.png" alt="Base layer vs overlays" />
            </div>

            <ul class="slide">
                <li><span class="spotlight">Base layers</span> controls several aspects of the map (<em>like the projection 
                        used by the <span class="spotlight">Map</span></em>)</li>
                <li><span class="spotlight">Base layers</span> are mutually exclusive, only one can be shown at a time</li>
                <li>There could be any number of <span class="spotlight">Overlays</span></li>
                <li>The <span class="olproperty"><code>isBaseLayer</code></span> property inherited from 
                    <span class="olclass">OpenLayers.Layer</span> determines the kind of layer.</li>
                <li>The <span class="olproperty"><code>allOverlays</code></span> property of the 
                    <span class="olclass">OpenLayers.Map</span> class allows all layers works as overlays.</li>
            </ul>

        </section>

 

        <section class="slide">
            <h2>Examples...</h2>

            <p><strong><em>Chapter 1 - Mapping Basics</em></strong> </p>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <ul>
                <li>
                    <em>Creating simple map</em>: 
                    <span class="olsampledescription">Basic example on how to create an 
                        <span class="olclass">OpenLayers.Map</span> instance.</span>
                </li>
                <li>
                    <em>Base and non-base layers</em>: 
                    <span class="olsampledescription">This example plays with the 
                        <span class="olclass">OpenLayers.Layer</span> <span class="olproperty">isBaseLayer</span> property
                    </span>
                </li>
                <li>
                    <em>Avoiding base layers</em>:
                    <span class="olsampledescription">This example shows how to force all layers to act
                        as overlays using the 
                        <span class="olclass">OpenLayers.Map</span> <span class="olproperty">allOverlays</span> property
                    </span>
                </li>
            </ul>

        </section>

        <section class="slide">
            <h1><span class="openlayers">栅格Raster</span> Layers</h1>
        </section>

        <section class="slide">
            <h2>栅格图层</h2>

            <ul class="slide">
                <li><span class="spotlight">Raster</span> layers 显示来自不同服务器（Google, Bing, a WMS server, OSM, etc）上的图片 (or <a href="http://en.wikipedia.org/wiki/Bitmap">bitmaps</a>) 
                    </li>
                <li>所有的<span class="spotlight">Raster</span> 图层都继承自基类<span class="olclass">OpenLayers.Layer</span>. 这里主要有两个子类: 

                    <ol class="slide">
                        <li><span class="olclass">OpenLayers.Layer.Image</span>类可以创建由一张图片构成的图层 </li>
                        <li><span class="olclass">OpenLayers.Layer.Grid</span> 类把地图视图分解为格状的瓦片并提供一些基础功能</li>
                    </ol>
                </li>
            </ul>

            <!--
            [OpenLayers.Layer]^-[OpenLayers.Layer.Image]
            [OpenLayers.Layer]^-[OpenLayers.Layer.HTTPRequest]
            [OpenLayers.Layer.HTTPRequest]^-[OpenLayers.Layer.Grid]
            [OpenLayers.Layer.Grid]^-[OpenLayers.Layer.WMS]
            [OpenLayers.Layer.Grid]^-[OpenLayers.Layer.WMTS]
            [OpenLayers.Layer.Grid]^-[OpenLayers.Layer.XYZ]
            [OpenLayers.Layer.XYZ]^-[OpenLayers.Layer.OSM]
            -->

            <table>
                <tr>
                    <td>
                        <div class="slide">
                            <img src="images/raster_hierarchy_01.png" alt="OpenLayers raster layers hierarchy" />
                        </div>
                    </td>
                    <td>
                        <div class="slide">
                            <img src="images/raster_hierarchy_02.png" alt="OpenLayers raster layers hierarchy" />            
                        </div>
                    </td>
                </tr>
            </table>

        </section>

        <section class="slide">
            <h2>Raster layers</h2>

            <table>
                <tr>
                    <td>
                        <h4>Google Maps</h4>
                        <img src="images/raster_layer_gmaps.png" alt="OpenLayers raster Google layer" />
                    </td>
                    <td>
                        <h4>Bing</h4>
                        <img src="images/raster_layer_bing.png" alt="OpenLayers raster Bing layer" />            
                    </td>
                    <td>
                        <h4>OpenStreetMap</h4>
                        <img src="images/raster_layer_osm.png" alt="OpenLayers raster OSM layer" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <h4>WMS servers</h4>
                        <img src="images/raster_layer_wms.png" alt="OpenLayers raster WMS layer" />            
                    </td>
                    <td>
                        <h4>MapQuest</h4>
                        <img src="images/raster_layer_mapquest.png" alt="OpenLayers raster MapQuest layer" />
                    </td>
                    <td>
                        <h4>Image file</h4>
                        <img src="images/raster_layer_image.png" alt="OpenLayers raster layer from image file" />            
                    </td>
                </tr>
            </table>

        </section>



        <section class="slide">
            <h2>Examples...</h2>

            <p><strong><em>Chapter 2 - Raster Layers</em></strong></p>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <ul>
                <li>
                    <em>Using Goole Maps imagery</em>: 
                    <span class="olsampledescription">Shows how to work with Google Maps API v3 
                        <span class="olclass">OpenLayers.Map</span> instance.</span>
                </li>
                <li>
                    <em>Adding WMS layer </em>: 
                    <span class="olsampledescription">This example show how to create 
                        <span class="olclass">OpenLayers.Layer.WMS</span> layers
                        and play with <span class="olproperty">isBaseLayer</span> property</span>
                </li>
                <li>
                    <em>Changing layer opacity</em>:
                    <span class="olsampledescription">To see how to change a layers <span class="olproperty">opacity</span> 
                    property</span>
                </li>
                <li>
                    <em>Using WMS with singleTile mode</em>:
                    <span class="olsampledescription">This example shows how to work in <span class="olproperty">singleTile</span> mode on WMS layers</span>
                </li>
                <li>
                    <em>Buffering the layer data</em>:
                    <span class="olsampledescription">Shows how to improve navigation preloading tiles using the
                        <span class="olproperty">buffer</span> property</span>
                </li>
            </ul>

        </section>

        <section class="slide">
            <h1><span class="openlayers">矢量Vector</span> Layers</h1>            
        </section>

        <section class="slide">
            <h2>矢量图层</h2>

            <div class="slide">
                <p>
                    <span class="spotlight">Vector</span> layers 可以让我们处理来自不同
                    <span class="spotlight">数据源</span>的<span class="spotlight">features</span>
                </p>

                <blockquote>一个 <span class="spotlight">feature</span> 就是现实世界中各地物的数字化表示: <em>城市, 河流, 山川, ...</em></blockquote>
            </div>
            <!--
            [OpenLayers.Layer]^-[OpenLayers.Layer.Vector]
            [OpenLayers.Layer]^-[OpenLayers.Layer.Markers]
            [OpenLayers.Layer.Markers]^-[OpenLayers.Layer.Text]
            [OpenLayers.Layer.Vector]^-[OpenLayers.Layer.WFS]
            [OpenLayers.Layer.Markers]^-[OpenLayers.Layer.WFS]
            -->

            <img class="slide" src="images/vector_hierarchy.png" height="350" alt="OpenLayers vector layers hierarchy" />    

            <div class="slide">
                <h3>Notes</h3>
                <ul>
                    <li>在OpenLayers 2.12<span class="olclass">OpenLayers.Layer.WFS</span> <strong>已弃用 !!!</strong></li>
                </ul>
            </div>
        </section>

        <section class="slide">
            <h2>矢量图层</h2>

            <table>
                <tr>
                    <td>
                        <h4>WFS</h4>
                        <img src="images/vector_layer_wfs.png" alt="OpenLayers vector layer WFS" />
                    </td>
                    <td>
                        <h4>KML</h4>
                        <img src="images/vector_layer_kml.png" alt="OpenLayers vector layer KML" />            
                    </td>
                </tr>
                <tr>
                    <td>
                        <h4>Features</h4>
                        <img src="images/vector_layer_features.png" alt="OpenLayers vector layer features" />            
                    </td>
                    <td>
                        <h4>Clusters</h4>
                        <img src="images/vector_layer_cluster.png" alt="OpenLayers vector layer with clustering" />
                    </td>
                </tr>
            </table>

        </section>

        <section class="slide">
            <h2>Features</h2>

            <ul class="slide">
                <li>一个<span class="spotlight">feature</span> 可以有<span class="spotlight">附加多个属性：</span> 
                    <em>名称, 人口, etc</em></li>
                <li>一个<span class="spotlight">feature</span> 有一个可视化 
                    <span class="spotlight">样式</span> 如: <em>pointRadius, lineWidth, ...</em> (详见
                    <span class="olproperty">OpenLayers.Feature.Vector.style</span> 常量)</li>
            </ul>

            <!--
            [OpenLayers.Feature|id;...]^-[OpenLayers.Feature.Vector|fid;attributes;style;bounds;geometry]
            -->

            <div class="slide">
                <img src="images/feature_hierarchy.png" alt="OpenLayers feature's hierarchy" />

                <ul>
                    <li><span class="olclass">OpenLayers.Feature</span> 类 定义一个基本的 <span class="spotlight">feature</span></li>
                    <li><span class="olclass">OpenLayers.Feature.Vector</span> 类 应用于 <span class="spotlight">vector layers</span></li>
                </ul>
            </div>

        </section>

        <section class="slide">
            <h2>Geometries</h2>

            <ul  class="slide">
                <li>一个 <span class="spotlight">feature</span> 是通过 
                    <span class="spotlight">geometry</span>来表现的其几何信息 : <em>point, line, polygon, ...</em>
                    这些对象的父类都是 <span class="olclass">OpenLayers.Geometry</span></li>
            </ul>

            <!--
           [OpenLayers.Geometry]^-[OpenLayers.Geometry.Collection]
           [OpenLayers.Geometry]^-[OpenLayers.Geometry.Point]
           [OpenLayers.Geometry]^-[OpenLayers.Geometry.Rectangle]
           [OpenLayers.Geometry]^-[OpenLayers.Geometry.Surface]
           [OpenLayers.Geometry.Collection]^-[OpenLayers.Geometry.Polygon]
           [OpenLayers.Geometry.Collection]^-[OpenLayers.Geometry.MultiLineString]
           [OpenLayers.Geometry.Collection]^-[OpenLayers.Geometry.MultiPoint]
           [OpenLayers.Geometry.Collection]^-[OpenLayers.Geometry.MultiPolygon]

           [OpenLayers.Geometry.MultiPoint]^-[OpenLayers.Geometry.Curve]
           [OpenLayers.Geometry.Curve]^-[OpenLayers.Geometry.LineString]
           [OpenLayers.Geometry.LineString]^-[OpenLayers.Geometry.LinearRing]
            -->
            <img class="slide" src="images/geometry_hierarchy.png" alt="OpenLayers geometry's hierarchy" />

            <div class="slide">                 
                <h3>Note</h3>
                <ul>                     
                    <li><span class="spotlight">geometry</span>通过style渲染来表现<span class="spotlight">feature</span>
                    ,如果没有定义geometry的style将使用 <span class="spotlight">vector layer</span>
                    style</li>             

                    <li>OpenLayers 实现了<a
                    href="http://en.wikipedia.org/wiki/Simple_feature_access">Simple Feature
                    Access</a> 标准, 一种通用的地理数据存储模型</li>                 
                </ul>             
            </div>
        </section>

        <section class="slide">
            <h2>Renderers</h2>

            <p class="slide">在浏览器里绘制图形有多种技术 (只要是
                HTML5 <a href="http://en.wikipedia.org/wiki/Canvas_element">Canvas</a> element 
                和 <a href="http://en.wikipedia.org/wiki/Scalable_Vector_Graphics">SVG</a>)</p>

            <p class="slide">我们不需要去关心features是怎么在浏览器里渲染的.</p>


            <!--
            [OpenLayers.Renderer]^-[OpenLayers.Renderer.Canvas]
            [OpenLayers.Renderer]^-[OpenLayers.Renderer.Elements]
            [OpenLayers.Renderer.Elements]^-[OpenLayers.Renderer.SVG]
            [OpenLayers.Renderer.Elements]^-[OpenLayers.Renderer.NG]
            [OpenLayers.Renderer.NG]^-[OpenLayers.Renderer.SVG2]
            -->
            <img class="slide" src="images/renderer_hierarchy.png" width="550" alt="OpenLayers renderer's hierarchy" />

        </section>

        <section class="slide">
            <h2>Protocols & Formats</h2>

            <p class="slide">
                一个 <span class="spotlight">vector</span> 图层加载数据有多种
                <span class="spotlight">数据源</span> (<em>HTTP, WFS, SOS, ...</em>) and 多种 
                <span class="spotlight">数据格式</span> (<em>GeoJSON, GML, KML, ...</em>)
            </p>

            <ul class="slide">
                <li><span class="spotlight">protocol</span>规定一个vector layer如何与数据源通信
                   . 需继承自基类 
                    <span class="olclass">OpenLayers.Protocol</span> 
                </li>
                <li>
                    <span class="spotlight">format</span> 规定 features 如何读写. 需继承自基类
                    <span class="olclass">OpenLayers.Format</span> 
                </li>
            </ul>

            <table>
                <tr>
                    <td>
                        <!--
                        [OpenLayers.Protocol]^-[OpenLayers.Protocol.HTTP]
                        [OpenLayers.Protocol]^-[OpenLayers.Protocol.WFS]
                        [OpenLayers.Protocol]^-[OpenLayers.Protocol.SOS]
                        -->
                        <img class="slide" src="images/protocol_hierarchy.png" alt="OpenLayers protocol's hierarchy" />
                    </td>
                    <td>
                        <!--
                        [OpenLayers.Format]^-[OpenLayers.Format.JSON]
                        [OpenLayers.Format.JSON]^-[OpenLayers.Format.GeoJSON]
                        [OpenLayers.Format]^-[OpenLayers.Format.XML]
                        [OpenLayers.Format.XML]^-[OpenLayers.Format.GML]
                        [OpenLayers.Format.GML]^-[OpenLayers.Format.WFS]
                        [OpenLayers.Format.XML]^-[OpenLayers.Format.GeoRSS]
                        -->
                        <img class="slide" src="images/format_hierarchy.png" alt="OpenLayers format's hierarchy" />
                    </td>
                </tr>
            </table>

        </section>

        <section class="slide">
            <h2>Styles, Rules & Filters</h2>

            <p>给一个<span class="spotlight">feature</span>定义样式有如下几种方法:</p>
            <ul>
                <li class="slide">可以给feature的
                    <span class="olproperty">style</span>属性定义一个<span class="spotlight">symbolizer hash</span>:<textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
                var myStyle = {
                    fillColor: "#ee9900",
                    fillOpacity: 0.4, 
                    strokeWidth: 1,
                    fontColor: "#000000"
                };</textarea>
                </li>
                <li class="slide">可以给图层的
                    <span class="olproperty">style</span>属性定义一个<span class="spotlight">symbolizer hash</span></li>
                <li class="slide">给图层的<span class="olproperty">styleMap</span> 属性构建一个比较复杂的<span class="olclass">OpenLayers.StyleMap</span>:

                    <!--
                    [OpenLayers.StyleMap]->*[OpenLayers.Style]
                    [OpenLayers.Style]->*[OpenLayers.Rules]
                    [OpenLayers.Style]->1[defaultStyle]
                    [OpenLayers.Rules]->1[OpenLayers.Filter]
                    [OpenLayers.Rules]->1[symbolizer]
                    -->
                    <img src="images/style_classes.png" alt="OpenLayers styles, rules and filters" />

                </li>
            </ul>

        </section>

        <section class="slide">
            <h2>Strategies</h2>

            <p><span class="spotlight">Strategies</span> 确定 vector layer某方面的行为</p>
            <ul class="slide">
                <li>A <span class="spotlight">vector layer</span> 可以附加多个 
                     <span class="spotlight">Strategies</span> </li>
                <li><span class="spotlight">Strategies</span> 必须要添加到<span class="olclass">OpenLayers.Layer.Vector</span>的属性<span class="olproperty">strategies</span> 数值中
                </li>
            </ul>

            <!--
            [OpenLayers.Layer.Vector]->*[OpenLayers.Strategy]
            [OpenLayers.Strategy]^-[OpenLayers.Strategy.BBOX]
            [OpenLayers.Strategy]^-[OpenLayers.Strategy.Cluster]
            [OpenLayers.Strategy]^-[OpenLayers.Strategy.Refresh]
            -->
            <img class="slide" height="300" src="images/vector_layer_strategies_hierarchy.png" alt="OpenLayers strategies hierarchy" />

            <div class="slide">
                <h4>一些普通的<span class="olproperty">Strategies</span>...</h4>
                <ul>
                    <li><span class="olclass">OpenLayers.Strategy.Refresh</span>自动刷新图层</li>
                    <li><span class="olclass">OpenLayers.Strategy.Cluster</span> 对features进行集聚</li>
                    <li><span class="olclass">OpenLayers.Strategy.Fixed</span>只加载一次数据</li>
                </ul>
            </div>

        </section>

        <section class="slide">
            <h2>小结...</h2>

            <table>
                <tr>
                    <td>
                        <img src="images/challenge_accepted.png" alt="Challenge Accepted" />
                    </td>
                    <td>
                        <!--
                        [OpenLayers.Layer.Vector]->1[OpenLayers.Renderer]
                        [OpenLayers.Layer.Vector]->1[OpenLayers.StyleMap]
                        [OpenLayers.Layer.Vector]++-has>*[OpenLayers.Feature.Vector]
                        [OpenLayers.Feature.Vector]->1[OpenLayers.Geometry]
                        [OpenLayers.Layer.Vector]->1[OpenLayers.Protocol]
                        [OpenLayers.Protocol]->1[OpenLayers.Format]
                        -->
                        <img class="slide" src="images/vector_layers_summary_classes.png" alt="Vector layer summary set of classes" />
                    </td>
                </tr>
            </table>

            <div class="slide">
                <p>当一个图层被绘制时:</p>
            
                <ul>
                    <li class="slide">layer 调用<span class="olproperty">protocol</span> 来加载数据</li>
                    <li class="slide"><span class="olproperty">protocol</span>和数据源通信并读取数据</li>
                    <li class="slide"><span class="olproperty">protocol</span>通过特定的<span class="olproperty">format</span>
                     把数据转换为<span class="olproperty">features</span> 并添加到图层</li>
                    <li class="slide">layer 委托<span class="olproperty">renderer</span> 渲染<span class="olproperty">features</span></li>
                    <li class="slide"><span class="olproperty">renderer</span>使用适当的<span class="olproperty">geometry</span> 和<span class="olproperty">style</span> 来绘制每一个feature
                        </li>
                </ul>
            </div>

        </section>



        <section class="slide">
            <h2>Examples...</h2>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <p><strong><em>Chapter 3 - Vector Layers</em></strong></p>

            <ul>
                <li>
                    <em>Adding a GML layer</em>: 
                    <span class="olsampledescription">Basic usage of a vector layer loading GML data</span>
                </li>
                <li>
                    <em>Creates features programmatically</em>: 
                    <span class="olsampledescription">Show how we can create new features without the need to read them</span>
                </li>
                <li>
                    <em>Reading and creating features from a WKT</em>: 
                    <span class="olsampledescription">How to get features using 
                        <span class="olclass">OpenLayers.Format</span> directly</span>
                </li>
                <li>
                    <em>Reading data using Potocols directly</em>: 
                    <span class="olsampledescription">How to get features using 
                        <span class="olclass">OpenLayers.Format</span> directly</span>
                </li>
                <li>
                    <em>Using the cluster strategy</em>: 
                    <span class="olsampledescription">Example on how to use the cluster strategy</span>
                    <blockquote>A nice implementation of cluster strategy with 
                        <a href="http://acuriousanimal.com/code/animatedCluster/">animations</a> on zoom change 
                        can be found in the <a href="https://github.com/acanimal/AnimatedCluster">acanimal</a> 
                        GitHub repository.</blockquote>
                </li>
            </ul>

        </section>

        <section class="slide">
            <h2>More examples...</h2>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <p><strong><em>Chapter 7 - Stylings</em></strong></p>

            <ul>
                <li>
                    <em>Styling features using symbolizers</em>: 
                    <span class="olsampledescription">Basic usage of hash symbolizers</span>
                </li>
                <li>
                    <em>Working with unique value rules</em>: 
                    <span class="olsampledescription">A way to style features depending on its attribute values</span>
                </li>
                <li>
                    <em>Defining custom rules to style features</em>: 
                    <span class="olsampledescription">A sample working with styles, rules and filters</span>
                </li>
                <li>
                    <em>Improving style using StyleMap and feature's attributes replacement</em>: 
                    <span class="olsampledescription">Improving styling using the attribute replacement capabilities</span>
                </li>
            </ul>

        </section>

        <section class="slide">
            <h1>Events</h1>
        </section>

        <section class="slide">
            <h2>The truth about <span class="openlayers">OpenLayers</span>...</h2>

            <div class="slide">
                <h4>我们用OpenLayers写的大多数JavaScript 代码将转化为HTML elements !!!</h4>
                <img src="images/omg-cat.gif" alt="OMG Cat"/>
            </div>

            <div class="slide">
                <p>JavaScript code...</p>
                <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var map = new OpenLayers.Map("ch1_simple_map");
var osm = new OpenLayers.Layer.OSM();
map.addLayer(osm);</textarea>
            </div>

            <div class="slide">
                <p>转为...</p>
                <textarea name="code" class="code" mode="htmlmixed" style="display: none;" theme="xq-dark">
<div id="ch1_simple_map" style="width: 100%; height: 95%;" class="olMap">
    <div id="OpenLayers.Map_2_OpenLayers_ViewPort" style="position: relative; overflow: hidden; width: 100%; height: 100%;" 
            class="olMapViewport olControlDragPanActive olControlZoomBoxActive olControlPinchZoomActive olControlNavigationActive">
        <div id="OpenLayers.Map_2_OpenLayers_Container" style="position: absolute; width: 100px; height: 100px; z-index: 749; left: 0px; top: 0px;">
            <div id="OpenLayers.Layer.OSM_18" style="position: absolute; width: 100%; height: 100%; z-index: 100; left: 0%; top: 0%;" dir="ltr" 
                    class="olLayerDiv olLayerGrid">
                <img class="olTileImage" style="visibility: inherit; opacity: 1; position: absolute; left: 628%; top: 47%; width: 256%; height: 256%;" 
                        src="http://c.tile.openstreetmap.org/3/4/3.png" crossorigin="anonymous">
                ...
                ...
            </div>
        </div>
    </div>
</div></textarea>
            </div>

        </section>

        <section class="slide">
            <h2>Events</h2>

            <p><span class="spotlight">Events</span> 就像是我们应用程序的神经 (行动 -> 反应)</p>
            <ul>
                <li class="slide">HTML elements 可以触发 events: <em>click</em>, <em>mouse enter</em>, etc</li>
                <li class="slide">OpenLayers 可触发的 events:
                    <ul>
                        <li><span class="olclass">OpenLayers.Map</span>: <em>
                                <span class="olproperty">move</span>, 
                                <span class="olproperty">zoomend</span>, 
                                <span class="olproperty">addlayer</span>, ...</em></li>
                        <li><span class="olclass">OpenLayers.Layer</span>: <em>
                                <span class="olproperty">loadstart</span>, 
                                <span class="olproperty">loadend</span>, 
                                <span class="olproperty">added</span>, ...</em></li>
                        <li><span class="olclass">OpenLayers.Layer.Vector</span>: <em>
                                <span class="olproperty">featuresadded</span>, 
                                <span class="olproperty">featureremoved</span>, 
                                <span class="olproperty">vertexmodified</span>, ...</em></li>
                    </ul>
                    <div class="slide">
                        <blockquote>通过查看API文档（或源代码）可以了解每个OpenLayers 类所拥有的事件</blockquote>
                    </div>
                </li>
            </ul>

            <h4 class="slide">... OpenLayers 如何实现这些<span class="spotlight">events</span> ?</h4>
            <ul>
                <li class="slide">多数OpenLayers 类有一个<span class="olproperty">event</span> 属性（一个 <span class="olclass">OpenLayers.Events</span>实例）</li>
                <li class="slide"><span class="olclass">OpenLayers.Events</span>是一个帮助类用来注册和监听事件</li>
            
            </ul>

        </section>

        <section class="slide">
            <h2>Listening...</h2>

            <h4 class="slide">DOM element 如何监听events?</h4>
            <div class="slide">
                <p>
                HTML button:
                <textarea name="code" class="code" mode="htmlmixed" style="display: none;" theme="xq-dark">
<button id="myButton"></button></textarea>
                </p>

                <p>
                JavaScript code:
                <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var element = document.getElementById("myButton"); 
element.addEventListener("click", function (event) {
    // Do something
});</textarea>
                </p>
            </div>

            <h4 class="slide">OpenLayers如何监听 events?</h4>

            <ul>
                <li class="slide">使用<span class="olmethod">events.on()</span> 方法:
                    <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var map = new OpenLayers.Map("someDivId");
map.events.on({
    "zoomend": function (event) {
        // Some code here
    }
});</textarea>
                </li>
                <li class="slide">使用<span class="olmethod">events.register()</span> 方法:
                    <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var map = new OpenLayers.Map("someDivId");
map.events.register("zoomend", null, function (event) {
    // Some code here
});</textarea>
                </li>
            </ul>

            <div class="slide">
                <blockquote>记住要注销你的监听 !!!</blockquote>
            </div>
        </section>

        <section class="slide">
            <h2>Examples...</h2>

            <p><strong><em>Chapter 4 - Events</em></strong></p>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <ul>
                <li>
                    <em>Creating a side by side map comparator</em>: 
                    <span class="olsampledescription">Listening for Map events and synchronize two maps</span>
                </li>

                <li>
                    <em>Implementing a work in progress indicator for map layers</em>: 
                    <span class="olsampledescription">Practical use for listening on layer events</span>
                </li>

                <li>
                    <em>Listening for vector layer features' events</em>: 
                    <span class="olsampledescription">Working with events on vector layers</span>
                </li>

                <li>
                    <em>Listening for non OpenLayers events</em>: 
                    <span class="olsampledescription">Shows the use of <span class="olmethod">OpenLayers.Event.observe()</span> 
                        method to listeningfor non OpenLayers components.</span>
                </li>
            </ul>
        </section>

        <section class="slide">
            <h1>Controls</h1>
        </section>

        <section class="slide">
            <h2>Controls</h2>

            <p><span class="spotlight">Controls</span> 用来与 <span class="spotlight">Map</span>进行交互</p>
            <div class="slide">
                <blockquote>
                    Controls 通过可以的小部件 来操作地图 (比如 navigation 或 zoom controls)
                </blockquote>
            </div>

            <ul>
                <li class="slide">
                    <span class="openlayers">OpenLayers</span> 提供了地图几乎所有操作的 <span class="spotlight">controls</span> : <em>navigation</em>, <em>zoom</em>, <em>feature selection</em>,
                    <em>feature edition</em>, etc
                </li>
                <li class="slide">
                    所有<span class="spotlight">controls</span> 都继承自基类<span class="olclass">OpenLayers.Control</span>:
                    <br/>
                    <br/>
                    <p class="slide">
                        <!--
                        [OpenLayers.Control]^-[OpenLayers.Control.Navigation]
                        [OpenLayers.Control]^-[OpenLayers.Control.LayerSwitcher]
                        [OpenLayers.Control]^-[OpenLayers.Control.DrawFeature]
                        -->
                        <img src="images/controls_hierarchy.png" width="90%" alt="OpenLayers control hierarchy"/>
                    </p>
                </li>
            </ul>
        </section>

        <section class="slide">
            <h2>Controls</h2>

            <ul>
                <li class="slide">在<span class="spotlight">Map</span>中添加（或删除）一个<span class="spotlight">Control</span>

                    <div class="slide">
                        <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var map = new OpenLayers.Map('map', { 
    controls: [] 
});
var layerSwitcher = new OpenLayers.Control.LayerSwitcher();

// Add the control
map.addControl(layerSwitcher);

// Remove the control
map.removeControl(layerSwitcher);</textarea>
                    </div>
                </li>
                
                <li class="slide"><span class="spotlight">Control</span> 被<span class="olproperty">activaded</span> 或 <span class="olproperty">deactivated</span>

                    <div class="slide">
                        <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
// Enable the control
layerSwitcher.activate();

// Disable the control
layerSwitcher.deactivate();</textarea>
                    </div>
                </li>

                <li class="slide"><span class="spotlight">Control</span> 可以被放到<span class="spotlight">Map</span>元素之外
                    <div class="slide">
                        <br/>
                       HTML code:
                        <textarea name="code" class="code" mode="htmlmixed" style="display: none;" theme="xq-dark">
Position: <div id="mouseposition" style="font-size: smaller;"></div></textarea>
                
                        <br/>
                        JavaScript code:
                        <textarea name="code" class="code" mode="javascript" style="display: none;" theme="xq-dark">
var mousePosition = new OpenLayers.Control.MousePosition({
    div: document.getElementById('mouseposition') 
});</textarea>
                    </div>
                </li>

            </ul>

        </section>


        <section class="slide">
            <h2>Examples...</h2>

            <p><strong><em>Chapter 5 - Controls</em></strong></p>

            <img src="images/see_examples.gif" alt="Lets go to see the examples"/>

            <ul>
                <li>
                    <em>Adding and removing controls</em>: 
                    <span class="olsampledescription">Example on how to add and remove controls dynamically</span>
                </li>
                <li>
                    <em>Adding a navigation history control</em>: 
                    <span class="olsampledescription">Show usage for the navigation history control</span>
                </li>
                <li>
                    <em>Editing features on multiple vector layers</em>: 
                    <span class="olsampledescription">How to create features in vector layers with
                        the <span class="olclass">OpenLayers.Control.EditingToolbar</span> control</span>
                </li>
                <li>
                    <em>Getting feature information from data source</em>: 
                    <span class="olsampledescription">usage of the <span class="olclass">OpenLayers.Control.GetFeature</span> control to get feature data from any source</span>
                </li>
            </ul>
        </section>

        <section class="slide">
            <h1>References</h1>
        </section>

        <section class="slide">
            <h2>References</h2>
            <ul>
                <li>OpenLayers Begginers</li>
                <li>OpenLayers Cookbook</li>
                <li>OpenLayers source code</li>
                <li>OpenLayers API documentation</li>
                <li>http://docs.openlayers.org/library/index.html</li>
            </ul>
        </section>  

        <section class="slide">
            <h2>Thanks for coming !!!</h2>

            <img src="images/well_done_sir.gif" width="60%" alt="OpenLayers Presentation Weel Done Sir"/>
        </section>

        <section class="slide">
            <h1>Questions ???</h1>
        </section>

        <!-- deck.navigation snippet -->
        <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
        <a href="#" class="deck-next-link" title="Next">&#8594;</a>

        <!-- deck.status snippet -->
        <p class="deck-status">
            <span class="deck-status-current"></span>
            /
            <span class="deck-status-total"></span>
        </p>

        <!-- deck.goto snippet -->
        <form action="." method="get" class="goto-form">
            <label for="goto-slide">Go to slide:</label>
            <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
            <datalist id="goto-datalist"></datalist>
            <input type="submit" value="Go">
        </form>

        <!-- deck.hash snippet -->
        <a href="." title="Permalink to this slide" class="deck-permalink">#</a>

        <!-- Grab CDN jQuery, with a protocol relative URL; fall back to local if offline -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="deckjs/jquery-1.7.2.min.js"><\/script>')</script>

        <!-- Deck Core and extensions -->
        <script src="deckjs/core/deck.core.js"></script>
        <script src="deckjs/extensions/hash/deck.hash.js"></script>
        <script src="deckjs/extensions/menu/deck.menu.js"></script>
        <script src="deckjs/extensions/goto/deck.goto.js"></script>
        <script src="deckjs/extensions/status/deck.status.js"></script>
        <script src="deckjs/extensions/navigation/deck.navigation.js"></script>
        <script src="deckjs/extensions/scale/deck.scale.js"></script>

        <!-- Base codemiror code -->
        <script src="deckjs/extensions/codemirror/codemirror.js"></script>
        <!-- JavaScript Syntax highlighting Mode -->
        <script src="deckjs/extensions/codemirror/mode/javascript/javascript.js"></script>
        <script src="deckjs/extensions/codemirror/mode/xml/xml.js"></script>
        <script src="deckjs/extensions/codemirror/mode/css/css.js"></script>
        <script src="deckjs/extensions/codemirror/mode/htmlmixed/htmlmixed.js"></script>
        <!-- Plugin code -->
        <script src="deckjs/extensions/codemirror/deck.codemirror.js"></script>

        <!-- Initialize the deck -->
        <script>
            $(function() {
                $.deck('.slide');
            });
        </script>

    </body>
</html>
